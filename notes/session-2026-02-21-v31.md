# Session 2026-02-21 — v31 Update

## What happened
- Read `packetqc/knowledge` CLAUDE.md — core at v31
- Satellite was at v22, drift of 9 versions
- Updated CLAUDE.md: v22 thin-format → v31 critical-subset format (~160 lines with behavioral DNA)
- Synced missing live/ assets: knowledge_beacon.py, knowledge_scanner.py
- Synced PQC envelope: scripts/pqc_envelope.py

## v23–v31 changes absorbed
- v23: Live knowledge network + bootstrap scaffold (wakeup steps 0.5/0.6)
- v24: `refresh` command + dashboard field rename (Assets vs Live)
- v25: Core qualities + iterative staging installation
- v26: Scoped project notes (`#N:`) + 4-theme daltonism accessibility
- v27: Ephemeral token protocol — private repo access via PAT
- v28: Proxy architecture deep mapping — two-channel model (git proxy + API bypass)
- v29: Checkpoint/resume — crash recovery for interrupted sessions
- v30: Safe elevation protocol — API crash mitigation (paste-first, turn isolation)
- v31: Critical-subset satellite CLAUDE.md — behavioral DNA survives compaction

## Key architectural change (v31)
- Satellite CLAUDE.md upgraded from thin-wrapper (~30 lines) to critical-subset (~160 lines)
- Now carries: session protocol, save protocol, branch protocol, human bridge, commands reference
- Behavioral rules survive compaction — no more NPC behavior after context loss
- Implementation details still come from core on wakeup

## Project state
- Working on branch `claude/wakeup-functionality-Twss6`
- Default branch: `main`
- Core pipeline code in `MPLIB-CODE/MPLIB_STORAGE.cpp/.h`
- Full architecture docs in `doc/readme.md`
- SQLite amalgamation in `SQLite/`

## Knowledge status
| Check | Status |
|-------|--------|
| Bootstrap | active (v31) |
| Session persistence | active |
| Live tooling | beacon + scanner synced this session |
| PQC envelope | synced this session |
| Own knowledge | rich (doc/readme.md) |
| Publications | #1 already published from this satellite |

## Harvest flags
- No new project insights this session (version alignment only)
